name: Publish tests summary
on:
  workflow_call:

jobs:
  publish-test-summaries:
    runs-on: self-hosted
    steps:
      - name: Test Report
        uses: phoenix-actions/test-reporting@v15
        if: success() || failure()
        with:
          artifact: test_artifacts
          name: Firmware Test Summary
          path: 'test-summary/*.xml'
          reporter: java-junit
          output-to: step-summary